# üìã –í–°–ï –ö–û–ú–ê–ù–î–´ –î–õ–Ø –†–ê–ë–û–¢–´ –° TUSABOT

## üéØ 1. PUSH –ù–ê GITHUB (–Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ Windows)

```bash
git add bot.py
git add "project/src/App.tsx"
git add "project/src/components/Stories.tsx"
git add ".github/workflows/deploy.yml"
git add "clear_all.py"
git add "test_db_simple.py"
git commit -m "Fix: –∫–Ω–æ–ø–∫–∞ –±–∏–ª–µ—Ç–∞ —Ç–µ–ø–µ—Ä—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è, —Ç–µ–∫—Å—Ç Stories —É–º–µ–Ω—å—à–µ–Ω"
git push origin main
```

---

## üñ•Ô∏è 2. –û–ë–ù–û–í–õ–ï–ù–ò–ï –ù–ê –°–ï–†–í–ï–†–ï (–ø–æ—Å–ª–µ push)

```bash
ssh root@5.129.250.86
cd /opt/tusabot
sudo systemctl stop tusabot tusabot-api tusabot-web
git reset --hard origin/main
git pull origin main
source venv/bin/activate
pip install -r requirements.txt
sudo systemctl start tusabot tusabot-api tusabot-web
sudo systemctl status tusabot tusabot-api tusabot-web --no-pager
```

---

## üóÑÔ∏è 3. –£–î–ê–õ–ï–ù–ò–ï –ò–ó –ë–î

### –£–¥–∞–ª–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```bash
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "DELETE FROM users;"
```

### –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∞—Ñ–∏—à–∏:
```bash
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "DELETE FROM posters;"
```

### –£–¥–∞–ª–∏—Ç—å –≤—Å—é –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å:
```bash
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "DELETE FROM attendances;"
```

### –£–¥–∞–ª–∏—Ç—å –í–°–Å:
```bash
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "DELETE FROM users; DELETE FROM posters; DELETE FROM attendances;"
```

### –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "DELETE FROM users WHERE tg_id = 825042510;"
```

---

## üîÑ 4. –ê–í–¢–û–ù–û–ú–ù–ê–Ø –†–ê–ë–û–¢–ê –ù–ê –°–ï–†–í–ï–†–ï

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
sudo systemctl start tusabot tusabot-api tusabot-web
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
sudo systemctl stop tusabot tusabot-api tusabot-web
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
sudo systemctl restart tusabot tusabot-api tusabot-web
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
sudo systemctl status tusabot tusabot-api tusabot-web --no-pager
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
sudo journalctl -u tusabot -f

# –õ–æ–≥–∏ API
sudo journalctl -u tusabot-api -f

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
sudo journalctl -u tusabot -n 50 --no-pager
```

---

## üßπ 5. –ü–û–õ–ù–ê–Ø –û–ß–ò–°–¢–ö–ê (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)

```bash
cd /opt/tusabot
sudo systemctl stop tusabot
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "DELETE FROM users; DELETE FROM posters; DELETE FROM attendances;"
rm -f data/bot_data.pkl bot_data.pkl
rm -rf project/public/posters/*
mkdir -p project/public/posters
sudo systemctl start tusabot
```

---

## üìä 6. –ü–†–û–°–ú–û–¢–† –ë–î

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```bash
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "SELECT tg_id, name, gender, age, username FROM users;"
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞—Ñ–∏—à–∏:
```bash
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "SELECT id, caption, ticket_url, is_active FROM posters ORDER BY created_at DESC;"
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ:
```bash
PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "SELECT COUNT(*) as users FROM users; SELECT COUNT(*) as posters FROM posters;"
```

---

## ‚ö° 7. –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´ (–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π)

### –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å GitHub:
```bash
cd /opt/tusabot && sudo systemctl stop tusabot tusabot-api tusabot-web && git pull origin main && source venv/bin/activate && pip install -r requirements.txt && sudo systemctl start tusabot tusabot-api tusabot-web
```

### –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
cd /opt/tusabot && sudo systemctl stop tusabot && PGPASSWORD=1 psql -h 127.0.0.1 -U tusabot -d familydb -c "DELETE FROM users; DELETE FROM posters; DELETE FROM attendances;" && rm -f data/bot_data.pkl bot_data.pkl && sudo systemctl start tusabot
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ:
```bash
sudo systemctl is-active tusabot tusabot-api tusabot-web && curl -s http://localhost:8000/health
```

---

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:

1. ‚úÖ **–ö–Ω–æ–ø–∫–∞ –±–∏–ª–µ—Ç–∞** - —Ç–µ–ø–µ—Ä—å –ö–õ–ò–ö–ê–ë–ï–õ–¨–ù–ê–Ø —Å `z-[9999]`, `pointer-events-auto`, `touch-manipulation`
2. ‚úÖ **–¢–µ–∫—Å—Ç Stories** - –°–ò–õ–¨–ù–û —É–º–µ–Ω—å—à–µ–Ω:
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: `text-base sm:text-lg` (–±—ã–ª–æ `text-lg sm:text-xl`)
   - –ö–∞—Ä—Ç–æ—á–∫–∏: `p-2.5` (–±—ã–ª–æ `p-3`)
   - –¢–µ–∫—Å—Ç: `text-[11px] sm:text-xs` (–±—ã–ª–æ `text-xs sm:text-sm`)
   - –ò–∫–æ–Ω–∫–∏: `w-4 h-4` (–±—ã–ª–æ `w-5 h-5`)
   - –û—Ç—Å—Ç—É–ø—ã: `space-y-1.5` (–±—ã–ª–æ `space-y-2`)
   - Padding: `p-3 sm:p-4` (–±—ã–ª–æ `p-6 sm:p-8`)
3. ‚úÖ **–°–≤–∞–π–ø** - —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Ñ–æ—Ç–æ, –Ω–µ –º–µ—à–∞–µ—Ç –∫–Ω–æ–ø–∫–µ

---

**–í–°–ï –ö–û–ú–ê–ù–î–´ –ì–û–¢–û–í–´! –ö–û–ü–ò–†–£–ô–¢–ï –ò –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï!** üéâ
